# âš™ï¸ `dict-i18n` é…ç½®è¯´æ˜æ–‡æ¡£

è¯¥æ–‡æ¡£è¯¦ç»†ä»‹ç»äº† `dict-i18n` æ‰€æœ‰å¯é…ç½®çš„ YAML é…ç½®é¡¹ï¼Œç”¨äºé›†æˆåˆ° Spring Boot é¡¹ç›®çš„ `application.yml` æˆ–
`application.properties` ä¸­ã€‚

---

## ğŸ“Œ é¡¶å±‚é…ç½®ç»“æ„

```yaml
dict-i18n:
  loader-order:               # åŠ è½½å™¨ä¼˜å…ˆçº§é¡ºåº
  max-nesting-depth:          # æœ€å¤§åµŒå¥—è§£ææ·±åº¦
  return-key-if-empty:        # æè¿°ç¼ºå¤±æ—¶æ˜¯å¦è¿”å›å­—å…¸ key
  default-lang:               # é»˜è®¤è¯­è¨€
  loader:                     # å„åŠ è½½å™¨é…ç½®
  starter:                    # å¯åŠ¨ç›¸å…³é…ç½®
```

---

## ğŸ”„ `loader-order` â€” åŠ è½½å™¨ä¼˜å…ˆçº§

**ç±»å‹**ï¼š`List<String>`
**è¯´æ˜**ï¼šæŒ‡å®šå­—å…¸åŠ è½½å™¨çš„åŠ è½½é¡ºåºï¼Œå…ˆåŠ è½½çš„ä¼˜å…ˆçº§é«˜ã€‚
**ç¤ºä¾‹**ï¼š

```yaml
loader-order:
  - redis
  - sql
  - file
  - declared
```

---

## ğŸ” `max-nesting-depth` â€” æœ€å¤§åµŒå¥—è§£ææ·±åº¦

**ç±»å‹**ï¼š`int`
**é»˜è®¤å€¼**ï¼š`10`
**è¯´æ˜**ï¼šè§£æå¯¹è±¡ä¸­åµŒå¥—å­—å…¸å­—æ®µçš„æœ€å¤§é€’å½’å±‚çº§ï¼Œé˜²æ­¢æ­»å¾ªç¯ã€‚

---

## ğŸ” `return-key-if-empty` â€” è¿”å›å­—å…¸ keyï¼ˆå½“æè¿°ä¸ºç©ºï¼‰

**ç±»å‹**ï¼š`boolean`
**é»˜è®¤å€¼**ï¼š`true`
**è¯´æ˜**ï¼šå¦‚æœæ‰¾ä¸åˆ°ç¿»è¯‘æè¿°ï¼Œæ˜¯å¦è¿”å›å­—å…¸ key æœ¬èº«ä½œä¸ºå…œåº•å†…å®¹ã€‚

---

## ğŸŒ `default-lang` â€” é»˜è®¤è¯­è¨€

**ç±»å‹**ï¼š`String`
**é»˜è®¤å€¼**ï¼š`""`
**è¯´æ˜**ï¼šå½“è¯·æ±‚è¯­è¨€æ‰¾ä¸åˆ°å¯¹åº”ç¿»è¯‘æ—¶ä½¿ç”¨çš„é»˜è®¤è¯­è¨€ã€‚é»˜è®¤å€¼å¯¹åº”çš„æ–‡ä»¶ä¸º`dict.yml`ã€‚

---

## ğŸ§© `loader` â€” å„åŠ è½½å™¨é…ç½®

æ”¯æŒçš„åŠ è½½å™¨åŒ…æ‹¬ï¼š`declared`ï¼ˆä»£ç å£°æ˜ï¼‰ã€`file`ï¼ˆæ–‡ä»¶ï¼‰ã€`sql`ï¼ˆæ•°æ®åº“ï¼‰ã€`redis`ï¼ˆç¼“å­˜ï¼‰

---

### 1ï¸âƒ£ `declared` â€” åŸºäºä»£ç å£°æ˜çš„åŠ è½½å™¨

| é…ç½®é¡¹             | ç±»å‹           | é»˜è®¤å€¼    | è¯´æ˜              |
|-----------------|--------------|--------|-----------------|
| `enabled`       | boolean      | `true` | æ˜¯å¦å¯ç”¨è¯¥åŠ è½½å™¨        |
| `ignore-case`   | boolean      | `true` | æ˜¯å¦å¿½ç•¥å­—å…¸ key çš„å¤§å°å†™ |
| `scan-packages` | List<String> | `[]`   | æ‰«æåŸºç¡€è·¯å¾„          |

---

### 2ï¸âƒ£ `file` â€” åŸºäºèµ„æºæ–‡ä»¶çš„åŠ è½½å™¨

| é…ç½®é¡¹                 | ç±»å‹           | é»˜è®¤å€¼                                                                                                          | è¯´æ˜              |
|---------------------|--------------|--------------------------------------------------------------------------------------------------------------|-----------------|
| `enabled`           | boolean      | `true`                                                                                                       | æ˜¯å¦å¯ç”¨è¯¥åŠ è½½å™¨        |
| `ignore-case`       | boolean      | `true`                                                                                                       | æ˜¯å¦å¿½ç•¥å­—å…¸ key çš„å¤§å°å†™ |
| `location-patterns` | List<String> | `["dict_i18n/dict_*.yml", "dict_i18n/dict_*.properties", "dict_i18n/dict.yml", "dict_i18n/dict.properties"]` | ç¿»è¯‘æ–‡ä»¶ä½ç½®          |

---

### 3ï¸âƒ£ `redis` â€” åŸºäº Redis çš„åŠ è½½å™¨

| é…ç½®é¡¹                       | ç±»å‹      | é»˜è®¤å€¼                                                                                                          | è¯´æ˜                              |
|---------------------------|---------|--------------------------------------------------------------------------------------------------------------|---------------------------------|
| `enabled`                 | boolean | `true`                                                                                                       | æ˜¯å¦å¯ç”¨è¯¥åŠ è½½å™¨                        |
| `ignore-case`             | boolean | `true`                                                                                                       | æ˜¯å¦å¿½ç•¥å­—å…¸ key çš„å¤§å°å†™                 |
| `location-patterns`       | List    | `["dict_i18n/dict_*.yml", "dict_i18n/dict_*.properties", "dict_i18n/dict.yml", "dict_i18n/dict.properties"]` | ç¿»è¯‘æ–‡ä»¶ä½ç½®                          |
| `key-prefix`              | string  | `dict_i18n`                                                                                                  | Redis ä¸­ä½¿ç”¨çš„ key å‰ç¼€               |
| `preload`                 | object  | [preload](#redis-preload)                                                                                    | é¢„åŠ è½½é…ç½®                           |
| `error-handling-strategy` | enum    | `FAIL`                                                                                                       | å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼š`FAIL`ï¼ˆæŠ¥é”™ï¼‰æˆ– `IGNORE`ï¼ˆå¿½ç•¥ï¼‰ |

#### ğŸ”„ Redis é¢„åŠ è½½ preload

<a id="redis-preload"></a>

| é…ç½®é¡¹            | ç±»å‹      | é»˜è®¤å€¼           | è¯´æ˜                                   |
|----------------|---------|---------------|--------------------------------------|
| `enabled`      | boolean | `false`       | å¯åŠ¨æ—¶æ˜¯å¦ä»èµ„æºæ–‡ä»¶é¢„åŠ è½½æ•°æ®åˆ° Redis               |
| `fail-fast`    | boolean | `true`        | åŠ è½½å¤±è´¥æ˜¯å¦å¿«é€Ÿå¤±è´¥                           |
| `preload-mode` | enum    | `INCREMENTAL` | é¢„åŠ è½½æ¨¡å¼ï¼š`INCREMENTAL` å¢é‡åŠ è½½ï¼Œæˆ– `FULL` å…¨é‡ |

---

### 4ï¸âƒ£ `sql` â€” åŸºäºæ•°æ®åº“çš„åŠ è½½å™¨

| é…ç½®é¡¹                       | ç±»å‹           | é»˜è®¤å€¼                                                                                                          | è¯´æ˜                       |
|---------------------------|--------------|--------------------------------------------------------------------------------------------------------------|--------------------------|
| `enabled`                 | boolean      | `true`                                                                                                       | æ˜¯å¦å¯ç”¨è¯¥åŠ è½½å™¨                 |
| `ignore-case`             | boolean      | `true`                                                                                                       | æ˜¯å¦å¿½ç•¥å­—å…¸ key çš„å¤§å°å†™          |
| `location-patterns`       | List<String> | `["dict_i18n/dict_*.yml", "dict_i18n/dict_*.properties", "dict_i18n/dict.yml", "dict_i18n/dict.properties"]` | ç¿»è¯‘æ–‡ä»¶ä½ç½®                   |
| `preload`                 | object       | [preload](#sql-preload)                                                                                      | é¢„åŠ è½½é…ç½®                    |
| `schema`                  | object       | [schema](#sql-schema)                                                                                        | æ•°æ®åº“æ¨¡å¼é…ç½®                  |
| `cache`                   | object       | [cache](#sql-cache)                                                                                          | ç¼“å­˜é…ç½®                     |
| `error-handling-strategy` | enum         | `FAIL`                                                                                                       | å¼‚å¸¸å¤„ç†ç­–ç•¥ï¼š`FAIL` æˆ– `IGNORE` |

#### ğŸ”„ æ•°æ®åº“é¢„åŠ è½½ preload

<a id="sql-preload"></a>

| é…ç½®é¡¹            | ç±»å‹      | é»˜è®¤å€¼           | è¯´æ˜                                   |
|----------------|---------|---------------|--------------------------------------|
| `enabled`      | boolean | `false`       | å¯åŠ¨æ—¶æ˜¯å¦ä»èµ„æºæ–‡ä»¶åŠ è½½æ•°æ®åˆ°æ•°æ®åº“                   |
| `fail-fast`    | boolean | `true`        | åŠ è½½å¤±è´¥æ˜¯å¦å¿«é€Ÿå¤±è´¥                           |
| `preload-mode` | enum    | `INCREMENTAL` | é¢„åŠ è½½æ¨¡å¼ï¼š`INCREMENTAL` å¢é‡åŠ è½½ï¼Œæˆ– `FULL` å…¨é‡ |

#### ğŸ—ƒï¸ schema åˆå§‹åŒ–é…ç½®ï¼ˆè‡ªåŠ¨å»ºè¡¨ï¼‰

<a id="sql-schema"></a>

| é…ç½®é¡¹       | ç±»å‹      | é»˜è®¤å€¼     | è¯´æ˜             |
|-----------|---------|---------|----------------|
| `enabled` | boolean | `false` | æ˜¯å¦å¯ç”¨è‡ªåŠ¨å»ºè¡¨å’Œå»ºç´¢å¼•åŠŸèƒ½ |

#### ç¼“å­˜é…ç½®

<a id="sql-cache"></a>

| é…ç½®é¡¹                          | ç±»å‹      | é»˜è®¤å€¼     | è¯´æ˜               |
|------------------------------|---------|---------|------------------|
| `enabled`                    | boolean | `false` | æ˜¯å¦å¯ç”¨ SQL åŠ è½½å™¨æœ¬åœ°ç¼“å­˜ |
| `maximum-size`               | int     | `1000`  | æœ€å¤§ç¼“å­˜æ¡ç›®æ•°          |
| `expire-after-write-seconds` | int     | `300`   | ç¼“å­˜å†™å…¥åçš„è¿‡æœŸæ—¶é—´ï¼ˆå•ä½ï¼šç§’ï¼‰ |

---

## ğŸš€ `starter` å¯åŠ¨å™¨ç›¸å…³é…ç½®

---

### ğŸ” `scan-packages` â€” æ‰«æåŒ…è·¯å¾„

**ç±»å‹**ï¼š`List<String>`
**è¯´æ˜**ï¼šé…ç½®éœ€è¦æ‰«æçš„åŒ…è·¯å¾„ï¼Œè‡ªåŠ¨å‘ç°å®ç°äº† `Dict` æ¥å£çš„å­—å…¸ç±»ã€‚

---

### ğŸŒ `endpoint` â€” å­—å…¸ç®¡ç†æ¥å£é…ç½®

| é…ç½®é¡¹       | ç±»å‹      | é»˜è®¤å€¼    | è¯´æ˜                     |
|-----------|---------|--------|------------------------|
| `enabled` | boolean | `true` | æ˜¯å¦å¯ç”¨å†…ç½®ç®¡ç†æ¥å£ï¼ˆServlet å®ç°ï¼‰ |

#### å­é¡¹ï¼š`dict-items` æ¥å£

| é…ç½®é¡¹       | ç±»å‹      | é»˜è®¤å€¼                     | è¯´æ˜         |
|-----------|---------|-------------------------|------------|
| `enabled` | boolean | `true`                  | æ˜¯å¦å¯ç”¨å­—å…¸æ¡ç›®æ¥å£ |
| `path`    | string  | `/dict-i18n/dict-items` | æ¥å£è®¿é—®è·¯å¾„     |

#### å­é¡¹ï¼š`dict-names` æ¥å£

| é…ç½®é¡¹       | ç±»å‹      | é»˜è®¤å€¼                     | è¯´æ˜         |
|-----------|---------|-------------------------|------------|
| `enabled` | boolean | `true`                  | æ˜¯å¦å¯ç”¨å­—å…¸åç§°æ¥å£ |
| `path`    | string  | `/dict-i18n/dict-names` | æ¥å£è®¿é—®è·¯å¾„     |

---

### âœ¨ `enhancer` â€” å“åº”å¢å¼ºé…ç½®

ç”¨äºè‡ªåŠ¨æ³¨å…¥å­—å…¸æè¿°åˆ° HTTP å“åº”ä½“ã€‚

| é…ç½®é¡¹                   | ç±»å‹           | è¯´æ˜                                |
|-----------------------|--------------|-----------------------------------|
| `enabled`             | boolean      | æ˜¯å¦å¯ç”¨å…¨å±€å“åº”å¢å¼ºåŠŸèƒ½                      |
| `include-packages`    | List<String> | åªå¢å¼ºè¿”å›ç±»å‹åœ¨è¿™äº›åŒ…ä¸‹çš„ç±»ï¼Œæœªé…ç½®æ—¶é»˜è®¤æ‰«æ Spring ä¸»åŒ… |
| `exclude-annotations` | List<String> | è¢«è¿™äº›æ³¨è§£æ ‡è®°çš„ç±»æˆ–æ–¹æ³•å°†è·³è¿‡å¢å¼ºï¼Œå¡«å†™æ³¨è§£çš„å…¨ç±»å        |

---

### âœ… `check.unique-dict-name` â€” å­—å…¸åå”¯ä¸€æ€§æ£€æŸ¥

| é…ç½®é¡¹       | ç±»å‹      | é»˜è®¤å€¼    | è¯´æ˜               |
|-----------|---------|--------|------------------|
| `enabled` | boolean | `true` | å¯åŠ¨æ—¶æ˜¯å¦æ£€æŸ¥æ‰€æœ‰å­—å…¸åç§°å”¯ä¸€æ€§ |
