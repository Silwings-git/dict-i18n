# ğŸ§© åŠ è½½å™¨ï¼ˆLoaderï¼‰è¯´æ˜

## ğŸ“˜ æ¦‚è¿°

`dict-i18n` æ”¯æŒå¤šç§å­—å…¸åŠ è½½æ–¹å¼ï¼Œå¼€å‘è€…å¯æ ¹æ®ç³»ç»Ÿéœ€æ±‚é€‰æ‹©åˆé€‚çš„åŠ è½½å™¨ã€‚åŠ è½½å™¨ç”¨äºä»å¤–éƒ¨æ•°æ®æºï¼ˆå¦‚æ–‡ä»¶ã€æ•°æ®åº“ã€Redis
ç­‰ï¼‰è¯»å–å­—å…¸å†…å®¹ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºæ ‡å‡†æ ¼å¼ä¾›ç³»ç»Ÿä½¿ç”¨ã€‚æ¯ä¸ªåŠ è½½å™¨å…·å¤‡ç»Ÿä¸€æ¥å£ï¼Œå¹¶æ”¯æŒä¼˜å…ˆçº§æ§åˆ¶ã€ç¼“å­˜æœºåˆ¶åŠæ ¼å¼æ‰©å±•ã€‚

ç³»ç»Ÿå†…ç½®å¤šç§åŠ è½½å™¨ï¼Œå¹¶é€šè¿‡æ’ä»¶å¼æ¶æ„å…è®¸è‡ªå®šä¹‰æ‰©å±•ï¼Œé€‚ç”¨äºä¸åŒä½“é‡ä¸æ€§èƒ½éœ€æ±‚çš„å›½é™…åŒ–ç³»ç»Ÿã€‚

åŠ è½½å™¨æ¶æ„:
![LoaderArchitecture](LoaderArchitecture.png)

åŠ è½½å™¨æŸ¥è¯¢æµç¨‹:

```mermaid
sequenceDiagram
  participant App as Application
  participant DictI18nProcessor as DictI18nProcessor
  participant DictI18nProvider as DictI18nProvider
  participant DictI18nLoader as DictI18nLoader [1..*]
  participant DataSource as DataSource
  App ->> DictI18nProcessor: è¯·æ±‚ç¿»è¯‘
  DictI18nProcessor ->> DictI18nProvider: getText(language, defaultLanguage, dictName, code)
  DictI18nProvider ->> DictI18nProvider: ç”ŸæˆlangChain ["zh-CN","zh",""]
  loop éå†æ¯ä¸ªåŠ è½½å™¨
    DictI18nProvider ->> DictI18nLoader: get(lang, dictKey)
    DictI18nLoader ->> DataSource: æ£€ç´¢ç¿»è¯‘
    DataSource -->> DictI18nLoader: ç¿»è¯‘æ•°æ®æˆ–ç©º
    DictI18nLoader -->> DictI18nProvider: è¿”å›ç»“æœ
    alt ç»“æœéç©º
      DictI18nProvider --x DictI18nLoader: ç»ˆæ­¢éå†
    end
  end

  DictI18nProvider -->> DictI18nProcessor: è¿”å›ç¬¬ä¸€ä¸ªéç©ºç»“æœ
  DictI18nProcessor -->> App: ç¿»è¯‘æ–‡æœ¬
```

---

## ğŸ§± åŠ è½½å™¨ç»“æ„ä¸æ‰©å±•æœºåˆ¶

åŠ è½½å™¨é€šå¸¸åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ ¸å¿ƒç¯èŠ‚ï¼š

1. **æ•°æ®è¯»å–**ï¼šä»æŒ‡å®šæ¥æºè¯»å–å­—å…¸æ•°æ®ï¼ˆå¦‚æ–‡ä»¶ã€SQLã€Redis ç­‰ï¼‰ï¼›
2. **æ•°æ®è§£æ**ï¼šè§£æåŸå§‹æ•°æ®æ ¼å¼ä¸ºæ ‡å‡†ç»“æ„ï¼›
3. **ç¼“å­˜æ”¯æŒ**ï¼ˆå¯é€‰ï¼‰ï¼šå¯¹åŠ è½½ç»“æœè¿›è¡Œæœ¬åœ°ç¼“å­˜ï¼Œå‡å°‘é‡å¤åŠ è½½ï¼›
4. **æ¥æºåˆå¹¶**ï¼šå¤šä¸ªåŠ è½½å™¨æ”¯æŒåˆå¹¶è¦†ç›–ï¼ŒæŒ‰é…ç½®é¡ºåºæ‰§è¡Œã€‚

åŠ è½½å™¨éµå¾ªç»Ÿä¸€æ¥å£ `DictI18nLoader`ï¼Œå¹¶å¯é€šè¿‡æ‰©å±•ç»„ä»¶å¢å¼ºèƒ½åŠ›ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ã€‚

---

## ğŸ“š å†…ç½®åŠ è½½å™¨ä¸€è§ˆ

| åŠ è½½å™¨åç§°         | æè¿°                             | é…ç½®é”®        | æ˜¯å¦æ”¯æŒç¼“å­˜ |
|---------------|--------------------------------|------------|--------|
| **æ–‡ä»¶åŠ è½½å™¨**     | ä» `yml` / `properties` æ–‡ä»¶ä¸­åŠ è½½å­—å…¸ | `file`     | âœ…      |
| **æ•°æ®åº“åŠ è½½å™¨**    | é€šè¿‡ SQL æŸ¥è¯¢åŠ è½½å­—å…¸                  | `sql`      | âœ…      |
| **Redis åŠ è½½å™¨** | ä» Redis ä¸­åŠ è½½å­—å…¸é¡¹                 | `redis`    | âŒ      |
| **å£°æ˜å¼åŠ è½½å™¨**    | åœ¨ç±»ä¸­æ‰‹åŠ¨å£°æ˜å­—å…¸æè¿°                    | `declared` | âŒ      |

åŠ è½½å™¨æœ‰å¦‚ä¸‹çš„å…¬å…±é…ç½®é¡¹

| é…ç½®é¡¹        | ç±»å‹      | é»˜è®¤å€¼  | è¯´æ˜        |
|------------|---------|------|-----------|
| enable     | boolean | true | æ˜¯å¦å¼€å¯å½“å‰åŠ è½½å™¨ |
| ignoreCase | boolean | true | æ˜¯å¦å¿½ç•¥å¤§å°å†™   |

æ­¤å¤–,æ¯ä¸ªåŠ è½½å™¨éƒ½æœ‰å¯¹åº”é…ç½®é¡¹ï¼Œå¹¶å¯æŒ‰éœ€å¼€å¯ã€ç¦ç”¨ã€‚

---

## ğŸ“‚ æ–‡ä»¶åŠ è½½å™¨ï¼ˆfileï¼‰

* **åŠŸèƒ½**ï¼šä»æœ¬åœ°æˆ–è€…è¿œç¨‹çš„ `YML` , `Properties` æ–‡ä»¶ä¸­è¯»å–å­—å…¸é¡¹ã€‚
* **ç¼“å­˜**: fileåŠ è½½å™¨åœ¨é¡¹ç›®å¯åŠ¨æ—¶ä»æ–‡ä»¶åŠ è½½å…¨é‡æ•°æ®å¹¶ç¼“å­˜åœ¨å†…å­˜ä¸­,å› æ­¤ä¸æ”¯æŒè‡ªå®šä¹‰ç¼“å­˜ç­–ç•¥ã€‚
* **å·¥ä½œæµç¨‹**: é¡¹ç›®å¯åŠ¨æ—¶,fileåŠ è½½å™¨ä¼šæ‰«æresourceç›®å½•ä¸‹æ–‡ä»¶åç¬¦åˆ`dict_i18n/dict_{locale}`, `dict_i18n/dict`æ¨¡å¼çš„
  `yml`æˆ–`properties`æ–‡ä»¶,å¹¶å°†å…¶ä¸­çš„
  å­—å…¸ç¿»è¯‘æ•°æ®ç¼“å­˜åˆ°å†…å­˜ä¸­(å¦‚æœååŠ è½½çš„æ–‡ä»¶ä¸­çš„å­—å…¸keyå·²ç»å­˜åœ¨,ä¼šè¦†ç›–ä¹‹å‰çš„æ•°æ®),ä¹‹åæ¯æ¬¡è·å–å­—å…¸ç¿»è¯‘æ—¶ä»å†…å­˜ä¸­è¯»å–.
   ```mermaid
   sequenceDiagram
       title æ–‡ä»¶åŠ è½½å™¨åŠ è½½ä¸æŸ¥è¯¢æµç¨‹
       participant App as Application
       participant Loader as FileDictI18nLoader
       participant Parser as DictFileParser
       participant Strategy as DictFileParseStrategy
       participant Cache as Non-expired cache
       Note over App,Cache: é¡¹ç›®å¯åŠ¨é˜¶æ®µ
       App ->> Loader: åˆå§‹åŒ–
       Loader ->> Loader: loadAll()
       Loader ->> Loader: loadResourcesFromPattern()
       Loader ->> Loader: æ ¹æ®ä½ç½®æ¨¡å¼æŸ¥æ‰¾æ‰€æœ‰åŒ¹é…æ–‡ä»¶
       loop å¯¹äºæ¯ä¸ªèµ„æº
           Loader ->> Loader: extractLangFromFilename()
           Loader ->> Loader: ä»æ–‡ä»¶åç¡®å®šè¯­è¨€ä»£ç <br/>(ä¾‹å¦‚: dict_en.yml --> "en")
           Loader ->> Parser: parse(resource)
           Parser ->> Strategy: getStrategy(resource)
           Strategy ->> Strategy: æ ¹æ®æ–‡ä»¶æ‰©å±•åé€‰æ‹©YAMLæˆ–Propertiesç­–ç•¥
           Strategy ->> Parser: parse(resource)
           Parser -->> Loader: List<DictInfo>
           Loader ->> Cache: å­˜å‚¨å­—å…¸æ¡ç›®
       end
       Note over App,Cache: æŸ¥è¯¢é˜¶æ®µ
       App ->> Loader: get(lang, dictKey)
       Loader ->> Cache: æŸ¥æ‰¾å€¼
       Cache -->> App: å­—å…¸å€¼
       App -->> App: Optional<String>
   ```

### ğŸ§© æ–‡ä»¶æ ¼å¼æ‰©å±•

æ–‡ä»¶åŠ è½½å™¨ä½¿ç”¨ `DictFileParser` ç»„ä»¶è´Ÿè´£å®é™…æ•°æ®è§£æã€‚ç³»ç»Ÿé»˜è®¤æ”¯æŒ `yml` ä¸ `properties` æ–‡ä»¶ã€‚

å¦‚éœ€æ”¯æŒè‡ªå®šä¹‰æ–‡ä»¶æ ¼å¼ï¼ˆå¦‚ `json`, `xml`
ç­‰ï¼‰ï¼Œå¯å®ç°[DictFileParseStrategy](../../../dict-i18n-loader/dict-i18n-loader-core/src/main/java/cn/silwings/dicti18n/loader/parser/strategy/DictFileParseStrategy.java)
æ¥å£ï¼š

```java
public interface DictFileParseStrategy {

    boolean supports(Resource resource);

    List<DictInfo> parse(Resource resource);
}
```

å¹¶æ³¨å…¥åˆ°Springå®¹å™¨ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è¯†åˆ«ã€‚

---

## ğŸ§® æ•°æ®åº“åŠ è½½å™¨ï¼ˆsqlï¼‰

* **åŠŸèƒ½**ï¼šä»æ•°æ®åº“è¡¨ä¸­æŸ¥è¯¢å­—å…¸æ•°æ®
* **ç¼“å­˜**: sqlåŠ è½½å™¨ä½¿ç”¨å†…å­˜ç¼“å­˜,é»˜è®¤çš„ç¼“å­˜å®ç°ä¸ºgoogle.guava
* **å·¥ä½œæµç¨‹**: é¡¹ç›®å¯åŠ¨æ—¶,sqlåŠ è½½å™¨å…ˆæ‰§è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œ,å¦‚æœå¼€å¯äº†`schema`
  ,åˆ™sqlåŠ è½½å™¨ä¼šåœ¨æ•°æ®åº“ä¸­åˆ›å»ºå¿…è¦çš„è¡¨,å¹¶åˆ›å»ºç´¢å¼•,ç›®å‰æ”¯æŒmysql,postgresql,sqlite.ä¹‹å,å¦‚æœå¼€å¯äº†`preload`,
  åˆ™sqlåŠ è½½å™¨ä¼šæ‰«æresourceç›®å½•ä¸‹æ–‡ä»¶åç¬¦åˆ`dict_i18n/dict_{locale}`, `dict_i18n/dict`æ¨¡å¼çš„`yml`æˆ–`properties`
  æ–‡ä»¶,å¹¶å°†å…¶ä¸­çš„å­—å…¸ç¿»è¯‘æ•°æ®è½¬æ¢ä¸ºinsertè¯­å¥æ’å…¥åˆ°æ•°æ®åº“ä¸­.
  åœ¨æŸ¥è¯¢é˜¶æ®µ,å¦‚æœå¼€å¯äº†ç¼“å­˜,sqlåŠ è½½å™¨ä¼šä¼˜å…ˆä»ç¼“å­˜ä¸­è¯»å–,å¦‚æœç¼“å­˜ä¸­ä¸å­˜åœ¨åˆ™è¯»å–æ•°æ®åº“,å¹¶å°†ç»“æœç¼“å­˜èµ·æ¥,æ”¯æŒç¼“å­˜ç©ºå€¼.
  - å¦‚æœä½¿ç”¨çš„æ˜¯ä¸æ”¯æŒçš„æ•°æ®åº“,å¯ä»¥æ‰‹åŠ¨åˆ›å»ºè¡¨,è¡¨ç»“æ„å¦‚ä¸‹:
    ```sql
     CREATE TABLE dict_i18n
     (
     id          BIGINT AUTO_INCREMENT PRIMARY KEY,
     dict_key    VARCHAR(512)  NOT NULL,
     lang        VARCHAR(10)   NOT NULL,
     description VARCHAR(1024) NOT NULL,
     enabled     TINYINT       NOT NULL DEFAULT 1 COMMENT 'Enable or not: 1-Enable, 0-Disable',
     UNIQUE KEY uidx_dicti18n_dictkey_lang (dict_key, lang)
     ) ENGINE=InnoDB;
    CREATE INDEX idx_dicti18n_dictkey ON dict_i18n (dict_key);
    CREATE INDEX idx_dicti18n_lang ON dict_i18n (lang);
    ```

  ```mermaid
  sequenceDiagram
  title SQLåŠ è½½å™¨åŠ è½½ä¸æŸ¥è¯¢æµç¨‹
  participant App as Application
  participant SchemaInit as DictI18nSchemaInitializer
  participant Preload as DictI18nSqlDataInitializer
  participant Parser as DictFileParser
  participant Cache as DictI18nLoaderCacheProvider
  participant Loader as SqlDictI18nLoader
  participant DB as Database (MySQL/PostgreSQL/SQLite)
  participant Resources as Resource Files

  Note over App,Resources: é¡¹ç›®å¯åŠ¨é˜¶æ®µ
  App->>SchemaInit: åˆå§‹åŒ–SQLåŠ è½½å™¨
  SchemaInit->>SchemaInit: æ£€æŸ¥æ˜¯å¦å¼€å¯schemaé…ç½®
  alt schemaå¼€å¯
    SchemaInit->>DB: æ‰§è¡Œå»ºè¡¨è¯­å¥
    DB-->>SchemaInit: æ“ä½œæˆåŠŸ
    DB-->>SchemaInit: æ“ä½œæˆåŠŸ
  end

  Preload->>Preload: æ£€æŸ¥æ˜¯å¦å¼€å¯preloadé…ç½®
  alt preloadå¼€å¯
    Preload->>Resources: æ‰«æç¬¦åˆæ¨¡å¼çš„æ–‡ä»¶
    Resources-->>Preload: è¿”å›åŒ¹é…çš„èµ„æºæ–‡ä»¶åˆ—è¡¨
    loop å¤„ç†æ¯ä¸ªèµ„æºæ–‡ä»¶
      Preload->>Parser: è§£ææ–‡ä»¶å†…å®¹
      Parser-->>Preload: è¿”å›è§£æåçš„å­—å…¸æ•°æ®
      Preload->>DB: æ‰§è¡ŒINSERTè¯­å¥
      DB-->>Preload: æ“ä½œæˆåŠŸ
    end
  end

  Preload-->>Loader: åŠ è½½å™¨å‡†å¤‡å°±ç»ª
  Note over App,DB: æŸ¥è¯¢é˜¶æ®µ
  App->>Loader: è¯·æ±‚ç¿»è¯‘æ•°æ®(langChain, dictKey)
  Loader->>Cache: æ£€æŸ¥æ˜¯å¦å¼€å¯ç¼“å­˜
  alt ç¼“å­˜å¼€å¯
    Loader->>Cache: ä»ç¼“å­˜è·å–æ•°æ®(langChain, dictKey)
    Cache-->>Loader: è¿”å›ç¼“å­˜æ•°æ®(å¯èƒ½ä¸ºç©º)
    alt ç¼“å­˜å‘½ä¸­(åŒ…æ‹¬ç©ºå€¼)
      Loader-->>App: è¿”å›ç¼“å­˜æ•°æ®
    else ç¼“å­˜æœªå‘½ä¸­
      Loader->>DB: æ‰§è¡ŒæŸ¥è¯¢è¯­å¥
      DB-->>Loader: è¿”å›æŸ¥è¯¢ç»“æœ(å¯èƒ½ä¸ºç©º)
      Loader->>Cache: å°†ç»“æœå­˜å…¥ç¼“å­˜(æ”¯æŒç©ºå€¼)
      Cache-->>Loader: ç¼“å­˜å®Œæˆ
      Loader-->>App: è¿”å›æŸ¥è¯¢ç»“æœ
    end
  else ç¼“å­˜æœªå¼€å¯
    Loader->>DB: æ‰§è¡ŒæŸ¥è¯¢è¯­å¥
    DB-->>Loader: è¿”å›æŸ¥è¯¢ç»“æœ
    Loader-->>App: è¿”å›æŸ¥è¯¢ç»“æœ
  end
  ```    

### ğŸ§  ç¼“å­˜æœºåˆ¶

SQL åŠ è½½å™¨é»˜è®¤å¼€å¯ç¼“å­˜(è‡ª1.0.2ç‰ˆæœ¬èµ·)ï¼Œä»¥æå‡æ€§èƒ½ï¼Œé¿å…é¢‘ç¹æ•°æ®åº“è®¿é—®ã€‚

å¦‚éœ€è‡ªå®šä¹‰ç¼“å­˜ç­–ç•¥ï¼ˆå¦‚ç»“åˆ Redis
æœ¬åœ°ç¼“å­˜ã€åˆ·æ–°ç­–ç•¥ç­‰ï¼‰ï¼Œå¯å®ç°[DictI18nLoaderCacheProvider](../../../dict-i18n-loader/dict-i18n-loader-core/src/main/java/cn/silwings/dicti18n/loader/cache/DictI18nLoaderCacheProvider.java)ï¼š

```java
public interface DictI18nLoaderCacheProvider {

    Optional<String> getDesc(String lang, String key, DictDescGetter descGetter);
}
```

æ³¨å†Œè¯¥ Bean åï¼Œç³»ç»Ÿå°†ä½¿ç”¨ä½ çš„ç¼“å­˜æä¾›å™¨æ›¿ä»£é»˜è®¤å†…å­˜ç¼“å­˜ã€‚

---

## ğŸ§° Redis åŠ è½½å™¨ï¼ˆredisï¼‰

* **åŠŸèƒ½**ï¼šä» Redis ä¸­è·å–å­˜å‚¨çš„å­—å…¸æ•°æ®ã€‚
* **ç¼“å­˜**ï¼šRedisæœ¬èº«å°±æ˜¯é«˜æ€§èƒ½åˆ†å¸ƒå¼ç¼“å­˜,å› æ­¤æœªå†é™„åŠ ç¼“å­˜
* **å·¥ä½œæµç¨‹**ï¼šé¡¹ç›®å¯åŠ¨æ—¶,å¦‚æœå¼€å¯äº†`preload`,
  åˆ™redisåŠ è½½å™¨ä¼šæ‰«æresourceç›®å½•ä¸‹æ–‡ä»¶åç¬¦åˆ`dict_i18n/dict_{locale}`, `dict_i18n/dict`æ¨¡å¼çš„`yml`æˆ–`properties`
  æ–‡ä»¶,å¹¶å°†å…¶ä¸­çš„å­—å…¸ç¿»è¯‘æ•°æ®è½¬æ¢ä¸ºluaè„šæœ¬æ’å…¥åˆ°æ•°æ®åº“ä¸­.è¯»å–é˜¶æ®µ,redisåŠ è½½å™¨ç›´æ¥ä»redisä¸­è·å–ç¿»è¯‘æ•°æ®.

  ```mermaid
  sequenceDiagram
  title RedisåŠ è½½å™¨åŠ è½½ä¸æŸ¥è¯¢æµç¨‹
  participant App as Application
  participant Preload as DictI18nRedisDataInitializer
  participant Parser as DictFileParser
  participant Loader as RedisDictI18nLoader
  participant Redis as Redis
  participant Resources as Resource Files
  
  Note over App,Resources: é¡¹ç›®å¯åŠ¨é˜¶æ®µ
  App->>Preload: åˆå§‹åŒ–RedisåŠ è½½å™¨
  Preload->>Preload: æ£€æŸ¥æ˜¯å¦å¼€å¯preloadé…ç½®
  alt preloadå¼€å¯
  Preload->>Resources: æ‰«æç¬¦åˆæ¨¡å¼çš„æ–‡ä»¶
  Resources-->>Preload: è¿”å›åŒ¹é…çš„èµ„æºæ–‡ä»¶åˆ—è¡¨
  loop å¤„ç†æ¯ä¸ªèµ„æºæ–‡ä»¶
  Preload->>Parser: è§£ææ–‡ä»¶å†…å®¹
  Parser-->>Preload: è¿”å›è§£æåçš„å­—å…¸æ•°æ®
  Preload->>Preload: ç”ŸæˆLuaè„šæœ¬(ç”¨äºæ‰¹é‡æ’å…¥)
  Preload->>Redis: æ‰§è¡ŒLuaè„šæœ¬æ’å…¥æ•°æ®
  Redis-->>Preload: æ•°æ®æ’å…¥å®Œæˆ
  end
  end
  
  Preload-->>Loader: åŠ è½½å™¨å‡†å¤‡å°±ç»ª
  Note over App,Redis: è¯»å–é˜¶æ®µ
  App->>Loader: è¯·æ±‚ç¿»è¯‘æ•°æ®(langChain, dictKey)
  Loader->>Redis: ä»Redisè·å–ç¿»è¯‘æ•°æ®
  Redis-->>Loader: è¿”å›æŸ¥è¯¢ç»“æœ(å¯èƒ½ä¸ºç©º)
  Loader-->>App: è¿”å›ç¿»è¯‘æ•°æ®
  ```

---

## ğŸ§¾ å£°æ˜å¼åŠ è½½å™¨ï¼ˆdeclaredï¼‰

* **åŠŸèƒ½**
  ï¼šé€šè¿‡å®ç°[DeclaredDict](../../../dict-i18n-loader/dict-i18n-loader-declared/src/main/java/cn/silwings/dicti18n/loader/declared/dict/DeclaredDict.java)
  æ¥å£ï¼Œæˆ–ä¸ºDictæ¥å£çš„å®ç°ç±»æ·»åŠ getDescæ–¹æ³•ï¼Œä½¿æ¡†æ¶èƒ½å¤Ÿé€šè¿‡è°ƒç”¨ Java å¯¹è±¡çš„æ–¹æ³•è·å–æè¿°ä¿¡æ¯ã€‚
* **ä½¿ç”¨åœºæ™¯**ï¼šé€‚åˆé™æ€å­—å…¸ï¼ŒåŠ¨æ€é€»è¾‘é©±åŠ¨çš„å­—å…¸ï¼Œæˆ–æµ‹è¯•åœºæ™¯ä¸­å¿«é€Ÿé…ç½®å­—å…¸æ•°æ®ã€‚
* **æ³¨æ„äº‹é¡¹**: declaredåŠ è½½å™¨åœ¨è¯»å–å­—å…¸æè¿°æ—¶ä¼šå¿½ç•¥è¯­è¨€ä¿¡æ¯
* **å·¥ä½œæµç¨‹**

ç¤ºä¾‹ï¼š

```java
// todo 
```

---

## ğŸ§© åŠ è½½å™¨ç›¸å…³æ‰©å±•ç»„ä»¶æ€»è§ˆ

| ç»„ä»¶æ¥å£                          | åŠŸèƒ½           | åº”ç”¨åŠ è½½å™¨       |
|-------------------------------|--------------|-------------|
| `DictFileParser`              | ç”¨äºæ–‡ä»¶åŠ è½½å™¨çš„æ•°æ®è§£æ | file        |
| `DictFileParseStrategy`       | æ‰©å±•æ”¯æŒæ›´å¤šæ–‡ä»¶æ ¼å¼   | file        |
| `DictI18nLoaderCacheProvider` | è‡ªå®šä¹‰åŠ è½½å™¨ç¼“å­˜å®ç°   | sql / redis |

---

## ğŸ§  åŠ è½½å™¨é¡ºåºæ§åˆ¶ï¼ˆloader-orderï¼‰

ä½ å¯ä»¥é€šè¿‡é…ç½®é¡¹ `dict-i18n.loader-order` æ˜¾å¼å£°æ˜åŠ è½½å™¨æ‰§è¡Œé¡ºåºï¼Œä¾‹å¦‚ï¼š

```yaml
dict-i18n:
  loader-order:
    - redis
    - sql
    - file
    - declared
```

é å‰çš„åŠ è½½å™¨ä¼˜å…ˆç”Ÿæ•ˆï¼Œåç»­åŠ è½½å™¨å¯ä»¥è¡¥å……æˆ–è¦†ç›–å‰è€…çš„æ•°æ®ã€‚

| [< å¯åŠ¨å™¨è¯´æ˜](../starter/å¯åŠ¨å™¨è¯´æ˜.md) | [é…ç½®è¯´æ˜ >](../config/é…ç½®è¯´æ˜.md) |
|:-------------------------------|----------------------------:|