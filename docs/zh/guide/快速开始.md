# ğŸ“˜ Dict-I18n å¿«é€Ÿå…¥é—¨æŒ‡å—

æ¬¢è¿ä½¿ç”¨ **`dict-i18n`** â€”â€” ä¸€ä¸ªè½»é‡ã€å¯æ‰©å±•çš„å­—å…¸å›½é™…åŒ–æ¡†æ¶ï¼Œä¸“ä¸º Java åº”ç”¨ä¸­æšä¸¾å€¼ã€çŠ¶æ€ç ã€ç±»å‹æ ‡è¯†ç¬¦ç­‰å­—å…¸å­—æ®µçš„**å¤šè¯­è¨€æè¿°
**è€Œè®¾è®¡ã€‚å®ƒå¯è‡ªåŠ¨æ‰«æå­—å…¸å®šä¹‰ï¼Œæ„å»ºæœŸé—´ç”Ÿæˆèµ„æºæ–‡ä»¶ï¼Œè¿è¡Œæ—¶å¢å¼º HTTP å“åº”ã€‚

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

* âœ… **åŸºäºæ³¨è§£çš„å­—å…¸å®šä¹‰**ï¼šä½¿ç”¨ `@DictDesc` ä¸ºå­—æ®µæ·»åŠ å›½é™…åŒ–æè¿°
* ğŸ›  **Maven æ’ä»¶ç”Ÿæˆæ¨¡æ¿**ï¼šè‡ªåŠ¨ç”Ÿæˆå¤šè¯­è¨€é…ç½®æ–‡ä»¶
* ğŸ”Œ **å¤šç§åŠ è½½å™¨æ”¯æŒ**ï¼šæ”¯æŒæ–‡ä»¶ã€æ•°æ®åº“ã€Redis ç­‰å¤šç§åŠ è½½æ–¹å¼
* ğŸ”„ **çµæ´»åŠ è½½é¡ºåº**ï¼šå¯é…ç½®ä¼˜å…ˆçº§ï¼Œå®ç°å¤šæ¥æºåˆå¹¶ä¸è¦†ç›–
* âš™ï¸ **Spring Boot æ— ç¼é›†æˆ**ï¼šå¼€ç®±å³ç”¨ï¼Œå­—æ®µæè¿°è‡ªåŠ¨æ³¨å…¥å“åº”
* ğŸŒ **å¤šè¯­è¨€åˆ‡æ¢ä¸å›é€€æœºåˆ¶**ï¼šæ”¯æŒæŒ‰è¯­è¨€åŠ¨æ€åˆ‡æ¢ã€å…œåº•é€»è¾‘
* ğŸ” **è‡ªåŠ¨é€’å½’æ‰«æ**ï¼šæ·±å±‚ç»“æ„äº¦å¯è¯†åˆ«æ³¨è§£å®šä¹‰
* ğŸš€ **é«˜æ€§èƒ½ç¼“å­˜**ï¼šå‡å°‘é‡å¤åŠ è½½ï¼Œæå‡è¿è¡Œæ•ˆç‡
* ğŸ§© **é«˜åº¦å¯æ‰©å±•**ï¼šæ”¯æŒè‡ªå®šä¹‰åŠ è½½å™¨ã€è¯­è¨€ä¸Šä¸‹æ–‡è§£æå™¨ç­‰ç»„ä»¶

---

## ğŸ§± ç¯å¢ƒè¦æ±‚

| é¡¹ç›®          | è¦æ±‚                   |
|-------------|----------------------|
| Java        | JDK 1.8 åŠä»¥ä¸Š          |
| æ„å»ºå·¥å…·        | Maven 3.6+           |
| Spring Boot | æ¨èä½¿ç”¨ Spring Boot 2.x |

> âš ï¸ å½“å‰ç‰ˆæœ¬åŸºäº `HttpServletRequest`ï¼Œ**æš‚ä¸å…¼å®¹ Spring Boot 3 çš„ Jakarta Servlet æ ˆ**ã€‚è‹¥ä½ ä½¿ç”¨ Spring Boot 3ï¼Œè¯·å…³é—­
> endpoint åŠŸèƒ½ï¼š

```yaml
dict-i18n:
  starter:
    endpoint:
      enabled: false
```

---

## ğŸš€ å¿«é€Ÿé›†æˆæŒ‡å—

### 1ï¸âƒ£ æ·»åŠ ä¾èµ–

```xml
<!-- Starter æ ¸å¿ƒä¾èµ– -->
<dependency>
    <groupId>cn.silwings.dicti18n</groupId>
    <artifactId>dict-i18n-spring-boot-starter</artifactId>
    <version>1.0.5</version>
</dependency>

<!-- åŠ è½½å™¨ä¾èµ–ï¼šä»¥ file ä¸ºä¾‹ -->
<dependency>
    <groupId>cn.silwings.dicti18n</groupId>
    <artifactId>dict-i18n-loader-file</artifactId>
    <version>1.0.5</version>
</dependency>

<!-- Maven æ’ä»¶ï¼šç”Ÿæˆå›½é™…åŒ–èµ„æºæ–‡ä»¶ -->
<plugin>
    <groupId>cn.silwings.dicti18n</groupId>
    <artifactId>dict-i18n-generator-maven-plugin</artifactId>
    <executions>
        <execution>
            <goals>
                <goal>yml</goal> <!-- æˆ–ä½¿ç”¨ <goal>properties</goal> -->
            </goals>
        </execution>
    </executions>
    <configuration>
        <languages>
            <!-- é…ç½®éœ€è¦ä½¿ç”¨çš„è¯­è¨€,ä¹Ÿå¯ä½¿ç”¨zh,enç­‰ä¸åŒ…å«åœ°åŒºçš„å½¢å¼ -->
            <language>zh-CN</language>
            <language>en-US</language>
        </languages>
        <verbose>true</verbose> <!-- è¾“å‡ºè¯¦ç»†æ—¥å¿— -->
    </configuration>
</plugin>
```

---

### 2ï¸âƒ£ å®šä¹‰å­—å…¸æšä¸¾ç±»

```java
public enum OrderStatus implements Dict {
    PENDING, PAID, SHIPPED, COMPLETED, CANCELED;

    @Override
    public String dictName() {
        return "order_status";
    }

    @Override
    public String code() {
        return this.name();
    }
}
```

---

### 3ï¸âƒ£ ç”Ÿæˆå›½é™…åŒ–èµ„æºæ–‡ä»¶

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
mvn compile
```

é»˜è®¤ä¼šåœ¨ `resources/dict_i18n/` ç›®å½•ä¸‹ç”Ÿæˆå¦‚ä¸‹æ¨¡æ¿ï¼š

**dict\_i18n/dict\_zh-CN.yml**

```yaml
order_status:
  CANCELED: ''
  COMPLETED: ''
  PAID: ''
  PENDING: ''
  SHIPPED: ''
```

ç¼–è¾‘å¡«å……æè¿°å†…å®¹ï¼š

```yaml
order_status:
  CANCELED: å·²å–æ¶ˆ
  COMPLETED: å·²å®Œæˆ
  PAID: å·²æ”¯ä»˜
  PENDING: å¾…å¤„ç†
  SHIPPED: å·²å‘è´§
```

---

### 4ï¸âƒ£ è‡ªåŠ¨å¢å¼º HTTP å“åº”

#### ç¤ºä¾‹å®ä½“ç±»ä¸æ§åˆ¶å™¨ï¼š

```java
public class OrderVO {
    private String orderStatus;

    @DictDesc(OrderStatus.class)
    private String orderStatusDesc;
    // getter & setter ...
}

@RestController
public class OrderController {
    @GetMapping("/order")
    public ResponseEntity<OrderVO> getOrder() {
        final OrderVO vo = new OrderVO();
        vo.setOrderStatus(OrderStatus.COMPLETED.code());
        return ResponseEntity.ok(vo);
    }
}
```

#### ç¤ºä¾‹å“åº”ï¼ˆè¯·æ±‚å¤´å¸¦ Accept-Language: zh-CNï¼‰

```json
{
  "orderStatus": "COMPLETED",
  "orderStatusDesc": "å·²å®Œæˆ"
}
```

---

## ğŸ§© æ”¯æŒçš„åŠ è½½å™¨ç±»å‹

| ç±»å‹         | æè¿°         | artifactId                  |
|------------|------------|-----------------------------|
| `declared` | ä»ä»£ç ä¸­åŠ¨æ€åŠ è½½   | `dict-i18n-loader-declared` |
| `file`     | ä»èµ„æºæ–‡ä»¶åŠ è½½    | `dict-i18n-loader-file`     |
| `sql`      | ä»æ•°æ®åº“è¡¨åŠ è½½    | `dict-i18n-loader-sql`      |
| `redis`    | ä» Redis åŠ è½½ | `dict-i18n-loader-redis`    |

> ğŸ›  ä½ ä¹Ÿå¯ä»¥å®ç° `DictI18nLoader` æ¥å£ï¼Œæ³¨å†Œä¸º Bean æ¥æ¥å…¥è‡ªå®šä¹‰æ•°æ®æºã€‚

---

## â­ï¸ åç»­æ­¥éª¤

ç°åœ¨ä½ å·²ç»åŸºæœ¬è®¾ç½®å®Œæˆï¼Œä½ å¯ä»¥ï¼š

- æ¢ç´¢å…¶ä»–åŠ è½½å™¨é€‰é¡¹ï¼Œå¦‚Redisæˆ–SQL
- é…ç½®æ›´é«˜çº§çš„é€‰é¡¹ï¼Œå¦‚è‡ªå®šä¹‰è¯­è¨€æä¾›è€…
- æŸ¥çœ‹æ¼”ç¤ºæ¨¡å—ä»¥è·å–æ›´å…¨é¢çš„ç¤ºä¾‹

## ğŸ§ª ç¤ºä¾‹é¡¹ç›®

æŸ¥çœ‹æ¼”ç¤ºé¡¹ç›®ï¼š[dict-i18n-demo](../../../dict-i18n-demo)

---

## ğŸ“š å»¶ä¼¸é˜…è¯»

- ğŸ”Œ [å¯åŠ¨å™¨è¯´æ˜](../starter/å¯åŠ¨å™¨è¯´æ˜.md)
- ğŸ§© [åŠ è½½å™¨è¯´æ˜](../loader/åŠ è½½å™¨è¯´æ˜.md)
- ğŸ›  [é…ç½®è¯´æ˜](../config/é…ç½®è¯´æ˜.md)
- â“ [å¸¸è§é—®é¢˜](../faq/å¸¸è§é—®é¢˜.md)

---

| [< æ–‡æ¡£é¦–é¡µ](../é¦–é¡µ.md) | [å¯åŠ¨å™¨è¯´æ˜ >](../starter/å¯åŠ¨å™¨è¯´æ˜.md) |
|:-------------------|-------------------------------:|